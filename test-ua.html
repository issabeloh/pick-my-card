<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Agent Ê∏¨Ë©¶</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .info-box {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            word-break: break-all;
        }
        .label {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .value {
            background: white;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
        }
        .copy-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .copy-btn:hover {
            background: #45a049;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }
        .detected {
            background: #d4edda;
            color: #155724;
        }
        .not-detected {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <h1>üîç User Agent Ê™¢Ê∏¨Â∑•ÂÖ∑</h1>

    <div class="info-box">
        <div class="label">ÊÇ®ÁöÑ User Agent:</div>
        <div class="value" id="user-agent"></div>
        <button class="copy-btn" onclick="copyUA()">üìã Ë§áË£Ω User Agent</button>
    </div>

    <div class="info-box">
        <div class="label">Ê™¢Ê∏¨ÁµêÊûú:</div>
        <div id="detection-result"></div>
    </div>

    <div class="info-box">
        <div class="label">ÂåπÈÖçÁöÑÊ®°Âºè:</div>
        <div class="value" id="matched-patterns"></div>
    </div>

    <script>
        // Display User Agent
        const ua = navigator.userAgent;
        document.getElementById('user-agent').textContent = ua;

        // Detection patterns (same as in main script)
        const patterns = {
            'Facebook': /FBAN|FBAV/i,
            'Instagram': /Instagram/i,
            'LINE': /Line/i,
            'Threads': /Threads/i,
            'Twitter': /Twitter/i,
            'WeChat': /WeChat/i,
            'Generic WebView (wv)': /\bwv\b/i,
            'Generic WebView': /WebView/i
        };

        // Check which patterns match
        const matchedPatterns = [];
        let isDetected = false;

        for (const [name, pattern] of Object.entries(patterns)) {
            if (pattern.test(ua)) {
                matchedPatterns.push(name);
                isDetected = true;
            }
        }

        // Display results
        const resultDiv = document.getElementById('detection-result');
        if (isDetected) {
            resultDiv.innerHTML = '<div class="status detected">‚úÖ WebView Â∑≤Ê™¢Ê∏¨Âà∞</div>';
        } else {
            resultDiv.innerHTML = '<div class="status not-detected">‚ùå WebView Êú™Ê™¢Ê∏¨Âà∞</div>';
        }

        const matchedDiv = document.getElementById('matched-patterns');
        if (matchedPatterns.length > 0) {
            matchedDiv.textContent = matchedPatterns.join(', ');
        } else {
            matchedDiv.textContent = 'ÁÑ°ÂåπÈÖçÊ®°Âºè';
        }

        // Copy function
        function copyUA() {
            navigator.clipboard.writeText(ua).then(() => {
                alert('‚úÖ User Agent Â∑≤Ë§áË£ΩÔºÅ');
            }).catch(() => {
                // Fallback
                const textArea = document.createElement('textarea');
                textArea.value = ua;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('‚úÖ User Agent Â∑≤Ë§áË£ΩÔºÅ');
            });
        }
    </script>
</body>
</html>
